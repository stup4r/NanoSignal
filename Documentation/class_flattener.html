<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>NanoSignal: Flattener Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="splash2.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NanoSignal
   </div>
   <div id="projectbrief">Nanomotion signal analysis tool</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_flattener-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Flattener Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_flattener.html" title="The Flattener class Class that allows flattening of the signal. Class inherits from the Process class...">Flattener</a> class Class that allows flattening of the signal. Class inherits from the <a class="el" href="class_process.html" title="The Process class An abstract class used as a parent for other processing classes (Flattener...">Process</a> class. doProcesOne is a mamber of the class <a class="el" href="class_flattener.html" title="The Flattener class Class that allows flattening of the signal. Class inherits from the Process class...">Flattener</a> and overrides the function from the mother class <a class="el" href="class_process.html" title="The Process class An abstract class used as a parent for other processing classes (Flattener...">Process</a>.  
 <a href="class_flattener.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="flattener_8h_source.html">flattener.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Flattener:</div>
<div class="dyncontent">
<div class="center"><img src="class_flattener__inherit__graph.png" border="0" usemap="#_flattener_inherit__map" alt="Inheritance graph"/></div>
<map name="_flattener_inherit__map" id="_flattener_inherit__map">
<area shape="rect" id="node2" href="class_process.html" title="The Process class An abstract class used as a parent for other processing classes (Flattener..." alt="" coords="7,5,77,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Flattener:</div>
<div class="dyncontent">
<div class="center"><img src="class_flattener__coll__graph.png" border="0" usemap="#_flattener_coll__map" alt="Collaboration graph"/></div>
<map name="_flattener_coll__map" id="_flattener_coll__map">
<area shape="rect" id="node2" href="class_process.html" title="The Process class An abstract class used as a parent for other processing classes (Flattener..." alt="" coords="7,5,77,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af9b5537ff9f8c9f1e9e1ae2a06c2dca7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_flattener.html#af9b5537ff9f8c9f1e9e1ae2a06c2dca7">doProcessOne</a> (<a class="el" href="struct_data_link.html">DataLink</a> &amp;)</td></tr>
<tr class="memdesc:af9b5537ff9f8c9f1e9e1ae2a06c2dca7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_flattener.html#af9b5537ff9f8c9f1e9e1ae2a06c2dca7" title="Flattener::doProcessOne Flattening of the signal. Signal is being flattened by subtracting polynomial...">Flattener::doProcessOne</a> Flattening of the signal. Signal is being flattened by subtracting polynomial fit from a signal. Processing is done in a window (cuts data in separate vectors of the same size and does processing under them, then gathers them back together). In two loops (one over the names of files, and another one over each vector), it creates windowed X and Y points, fits them, subtracts and merges back. This way makes sure that some signals that have a huge drift do not loose information after flattening.  <a href="#af9b5537ff9f8c9f1e9e1ae2a06c2dca7">More...</a><br /></td></tr>
<tr class="separator:af9b5537ff9f8c9f1e9e1ae2a06c2dca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_process"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_process')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_process.html">Process</a></td></tr>
<tr class="memitem:a990776d181dbbde7ff8ac12713d814b3 inherit pub_methods_class_process"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_process.html#a990776d181dbbde7ff8ac12713d814b3">~Process</a> ()</td></tr>
<tr class="separator:a990776d181dbbde7ff8ac12713d814b3 inherit pub_methods_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13aa74408fe3f7ce15b46767e339b0b inherit pub_methods_class_process"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_process.html#ad13aa74408fe3f7ce15b46767e339b0b">doProcessMulti</a> (<a class="el" href="class_data.html">Data</a> &amp;)</td></tr>
<tr class="memdesc:ad13aa74408fe3f7ce15b46767e339b0b inherit pub_methods_class_process"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_process.html#ad13aa74408fe3f7ce15b46767e339b0b" title="Process::doProcessMulti Triggers doProcessOne overridden methods of child classes, each in a separate thread. Crucial function that allows multi-threaded processing of files usign a QtConcurrent::map). It includes a QFutureWatcher to keep track of the progress and reports it back to the QProgressDialog. ">Process::doProcessMulti</a> Triggers doProcessOne overridden methods of child classes, each in a separate thread. Crucial function that allows multi-threaded processing of files usign a QtConcurrent::map). It includes a QFutureWatcher to keep track of the progress and reports it back to the QProgressDialog.  <a href="#ad13aa74408fe3f7ce15b46767e339b0b">More...</a><br /></td></tr>
<tr class="separator:ad13aa74408fe3f7ce15b46767e339b0b inherit pub_methods_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815cdc5509002f49cbacb55e0ffdf642 inherit pub_methods_class_process"><td class="memItemLeft" align="right" valign="top">QVector&lt; <a class="el" href="struct_data_link.html">DataLink</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_process.html#a815cdc5509002f49cbacb55e0ffdf642">dataExtraction</a> (<a class="el" href="class_data.html">Data</a> &amp;)</td></tr>
<tr class="memdesc:a815cdc5509002f49cbacb55e0ffdf642 inherit pub_methods_class_process"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_process.html#a815cdc5509002f49cbacb55e0ffdf642" title="Process::dataExtraction Extracts data from a container and links them to the helper struct...">Process::dataExtraction</a> Extracts data from a container and links them to the helper struct.  <a href="#a815cdc5509002f49cbacb55e0ffdf642">More...</a><br /></td></tr>
<tr class="separator:a815cdc5509002f49cbacb55e0ffdf642 inherit pub_methods_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3d8966d6a587a9a7af7f9c835fb358 inherit pub_methods_class_process"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee3d8966d6a587a9a7af7f9c835fb358"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setIsWindowed</b> (bool)</td></tr>
<tr class="separator:aee3d8966d6a587a9a7af7f9c835fb358 inherit pub_methods_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47bf6111b77fd2616418f80c97598a7 inherit pub_methods_class_process"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad47bf6111b77fd2616418f80c97598a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOrder</b> (int)</td></tr>
<tr class="separator:ad47bf6111b77fd2616418f80c97598a7 inherit pub_methods_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6eaaba7592a0a5ceb80478ceac3711 inherit pub_methods_class_process"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c6eaaba7592a0a5ceb80478ceac3711"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setWindow</b> (int)</td></tr>
<tr class="separator:a1c6eaaba7592a0a5ceb80478ceac3711 inherit pub_methods_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_process"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_process')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_process.html">Process</a></td></tr>
<tr class="memitem:a383a4aceee5ece2f67bb81cf725ccb8d inherit pro_attribs_class_process"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_process.html#a383a4aceee5ece2f67bb81cf725ccb8d">isWindowed</a> = false</td></tr>
<tr class="separator:a383a4aceee5ece2f67bb81cf725ccb8d inherit pro_attribs_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6598b80bc30673b6a75040431d58c8f inherit pro_attribs_class_process"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_process.html#ae6598b80bc30673b6a75040431d58c8f">order</a> = 1</td></tr>
<tr class="separator:ae6598b80bc30673b6a75040431d58c8f inherit pro_attribs_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9152b63d8e4965a3881a6fb318b9a1f inherit pro_attribs_class_process"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_process.html#aa9152b63d8e4965a3881a6fb318b9a1f">windowSize</a> = 10</td></tr>
<tr class="separator:aa9152b63d8e4965a3881a6fb318b9a1f inherit pro_attribs_class_process"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_flattener.html" title="The Flattener class Class that allows flattening of the signal. Class inherits from the Process class...">Flattener</a> class Class that allows flattening of the signal. Class inherits from the <a class="el" href="class_process.html" title="The Process class An abstract class used as a parent for other processing classes (Flattener...">Process</a> class. doProcesOne is a mamber of the class <a class="el" href="class_flattener.html" title="The Flattener class Class that allows flattening of the signal. Class inherits from the Process class...">Flattener</a> and overrides the function from the mother class <a class="el" href="class_process.html" title="The Process class An abstract class used as a parent for other processing classes (Flattener...">Process</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af9b5537ff9f8c9f1e9e1ae2a06c2dca7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Flattener::doProcessOne </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_data_link.html">DataLink</a> &amp;&#160;</td>
          <td class="paramname"><em>datalink</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="class_flattener.html#af9b5537ff9f8c9f1e9e1ae2a06c2dca7" title="Flattener::doProcessOne Flattening of the signal. Signal is being flattened by subtracting polynomial...">Flattener::doProcessOne</a> Flattening of the signal. Signal is being flattened by subtracting polynomial fit from a signal. Processing is done in a window (cuts data in separate vectors of the same size and does processing under them, then gathers them back together). In two loops (one over the names of files, and another one over each vector), it creates windowed X and Y points, fits them, subtracts and merges back. This way makes sure that some signals that have a huge drift do not loose information after flattening. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datalink</td><td>Helper struct that connects (references) to a single file and its file name. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_process.html#a289af55ffe809fd737369e4711c17bde">Process</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="flattener_8h_source.html">flattener.h</a></li>
<li>flattener.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
